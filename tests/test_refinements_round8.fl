# Testing Round 8 Refinements

print("--- Testing split/rsplit with maxsplit ---")
s = "a,b,c,d"
assert s.split(",") == ["a", "b", "c", "d"]
assert s.split(",", 1) == ["a", "b,c,d"]
assert s.split(",", 2) == ["a", "b", "c,d"]
assert s.rsplit(",") == ["a", "b", "c", "d"]
assert s.rsplit(",", 1) == ["a,b,c", "d"]
assert s.rsplit(",", 2) == ["a,b", "c", "d"]

print("--- Testing replace with count ---")
s2 = "banana"
assert s2.replace("a", "o") == "bonono"
assert s2.replace("a", "o", 1) == "bonana"
assert s2.replace("a", "o", 2) == "bonona"

print("--- Testing count with start/end ---")
l = [1, 2, 1, 2, 1, 2]
assert l.count(1) == 3
assert l.count(1, 1) == 2  # indices 1 to end: [2, 1, 2, 1, 2] -> 2
assert l.count(1, 1, 4) == 1 # indices 1 to 4: [2, 1, 2] -> 1
assert l.count(1, -2) == 1   # indices -2 to end: [1, 2] -> 1

s3 = "ababa"
assert s3.count("a") == 3
assert s3.count("a", 1) == 2  # "baba" -> 2
assert s3.count("a", 1, 3) == 1 # "ba" -> 1

print("--- Testing index with start/end ---")
assert l.index(1) == 0
assert l.index(1, 1) == 2
assert l.index(1, 3, 5) == 4
# assert l.index(1, 10) should error - but let's test that separately if needed

assert s3.index("a") == 0
assert s3.index("a", 1) == 2
assert s3.index("a", 3) == 4

print("--- Testing find/rfind with start/end ---")
assert s3.find("a") == 0
assert s3.find("a", 1) == 2
assert s3.find("a", 10) == -1
assert s3.rfind("a") == 4
assert s3.rfind("a", 0, 3) == 2 # "aba" -> 2

print("--- Testing insert with negative index ---")
l2 = [1, 2, 4]
l2.insert(-1, 3)
assert l2 == [1, 2, 3, 4]
l2.insert(-10, 0)
assert l2 == [0, 1, 2, 3, 4]
l2.insert(10, 5)
assert l2 == [0, 1, 2, 3, 4, 5]

print("--- Testing pop with negative index (already supported, confirming) ---")
l3 = [1, 2, 3]
assert l3.pop(-1) == 3
assert l3 == [1, 2]

print("All Round 8 refinement tests passed!")
