# tests/test_round3.fl

print("--- Testing Triple-Quote Strings ---")
let multi = """Line 1
Line 2
Line 3"""
print("Multi-line string:")
print(multi)

let f_multi = f"""Value is {10 + 20}
This is multi-line
f-string support."""
print("\nMulti-line f-string:")
print(f_multi)

print("\n--- Testing Set Comprehensions ---")
let s_comp = {x * x for x in [1, 2, 3, 2, 1] if x > 1}
print("Set comprehension (squares of >1):", s_comp) # {4, 9}

print("\n--- Testing Dictionary Comprehensions ---")
let d_comp = {str(x): x * 10 for x in [1, 2, 3]}
print("Dict comprehension:", d_comp) # {"1": 10, "2": 20, "3": 30}

print("\n--- Testing New Methods ---")
let s = {1, 2}
s.add(3)
s.add(1) # Duplicate
print("Set after add(3), add(1):", s)
s.discard(2)
s.discard(100) # Should not error
print("Set after discard(2), discard(100):", s)

let d = {"a": 1}
d.update({"b": 2, "a": 10})
print("Dict after update:", d) # {"a": 10, "b": 2}

print("\n--- Testing Comprehension Scoping ---")
let x = "outer"
let list_comp = [x for x in [1, 2, 3]]
print("x after comprehension:", x) # Should still be "outer"
